1674787394
waR3U4bTeM%3Ad14e4786cf08184dcff6860c4b47d554-b5b10ce4e08893bfbd291017104dd720
s:39476:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxNDp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6ImI1YjEwY2U0ZTA4ODkzYmZiZDI5MTAxNzEwNGRkNzIwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MjY6InBob3NwaG9yZV9pbnN0YWxsYXRpb24ucGhwIjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHBhdGgiO3M6NjE6Imhvb2svY29yZS9pbmRleC9zdGFydF9hZnRlcl9sb2dnZXIvcGhvc3Bob3JlX2luc3RhbGxhdGlvbi5waHAiO3M6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAc291cmNlIjtzOjI4NjUxOiI8P3BocAoKdHJ5CnsKCSRwYXRoX2NvbmZpZyA9ICRHTE9CQUxTWydjb25maWcnXVsnY29yZSddWydwYXRoJ11bJ2NvbmZpZyddIC4gJEdMT0JBTFNbJ2NvbmZpZyddWydjb3JlJ11bJ3BhdGgnXVsnbW9kJ10gLiAncGhvc3Bob3JlX2luc3RhbGxhdGlvbicgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJ2NvbmZpZy5waHAnOwoKCWlmIChcaXNfZmlsZSgkcGF0aF9jb25maWcpKQoJewoJCXJlcXVpcmUgJHBhdGhfY29uZmlnOwoJfQoJZWxzZQoJewoJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJ0Vycm9yIGR1cmluZyBtb2QgaW5pdGlhbGl6YXRpb24gZm9yIHBob3NwaG9yZV9pbnN0YWxsYXRpb246IG1pc3NpbmcgY29uZmlnIGZpbGUnKTsKCgkJdGhyb3cgbmV3IFxleGNlcHRpb25cUEhvc1Bob3JlSW5zdGFsbGF0aW9uRXhjZXB0aW9uKCdFcnJvciBkdXJpbmcgbW9kIGluaXRpYWxpemF0aW9uIGZvciBwaG9zcGhvcmVfaW5zdGFsbGF0aW9uOiBtaXNzaW5nIGNvbmZpZyBmaWxlJyk7Cgl9CgoJLyoqCgkgKiBDcmVhdGUgcGF0aCBvZiBjb25maWd1cmF0aW9uIGZpbGUKCSAqCgkgKiBAcGFyYW0gc3RyaW5nICR0eXBlIGxhbmcgb3IgbG9jYWxlCgkgKgoJICogQHBhcmFtIHN0cmluZyAkdmFsdWUgbmFtZSBvZiB0aGUgbGFuZyBvciBsb2NhbGUKCSAqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglmdW5jdGlvbiBwaG9zcGhvcmVfaW5zdGFsbGF0aW9uX3BhdGgoc3RyaW5nICR0eXBlLCBzdHJpbmcgJHZhbHVlKQoJewoJCSRwYXRoID0gJEdMT0JBTFNbJ2NvbmZpZyddWydjb3JlJ11bJ3BhdGgnXVskdHlwZV0gLiAkR0xPQkFMU1snY29uZmlnJ11bJ2NvcmUnXVsncGF0aCddWydtb2QnXSAuICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJyAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAkdmFsdWUgLiAnLicgLiAkR0xPQkFMU1snY29uZmlnJ11bJ2NvcmUnXVskdHlwZV1bJ2ZpbGVuYW1lJ107CgkJcmV0dXJuICRwYXRoOwoJfQoKCSRwYXRoX2xhbmcgPSBwaG9zcGhvcmVfaW5zdGFsbGF0aW9uX3BhdGgoJ2xhbmcnLCAkR0xPQkFMU1snbGFuZyddWydjb3JlJ11bJ2xhbmcnXVsnYWJiciddKTsKCSRwYXRoX2RlZmF1bHRfbGFuZyA9IHBob3NwaG9yZV9pbnN0YWxsYXRpb25fcGF0aCgnbGFuZycsICRHTE9CQUxTWydjb25maWcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZGVmYXVsdCddWydsYW5nJ10pOwoJaWYgKFxpc19maWxlKCRwYXRoX2xhbmcpKQoJewoJCXJlcXVpcmUgJHBhdGhfbGFuZzsKCgl9CgllbHNlIGlmIChcaXNfZmlsZSgkcGF0aF9kZWZhdWx0X2xhbmcpKQoJewoJCXJlcXVpcmUgJHBhdGhfZGVmYXVsdF9sYW5nOwoJfQoJZWxzZQoJewoJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJ0Vycm9yIGR1cmluZyBtb2QgaW5pdGlhbGl6YXRpb24gZm9yIHBob3NwaG9yZV9pbnN0YWxsYXRpb246IG1pc3NpbmcgbGFuZyBmaWxlJyk7CgoJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbignRXJyb3IgZHVyaW5nIG1vZCBpbml0aWFsaXphdGlvbiBmb3IgcGhvc3Bob3JlX2luc3RhbGxhdGlvbjogbWlzc2luZyBsYW5nIGZpbGUnKTsKCX0KCgkkcGF0aF9sb2NhbGUgPSBwaG9zcGhvcmVfaW5zdGFsbGF0aW9uX3BhdGgoJ2xvY2FsZScsICRHTE9CQUxTWydsb2NhbGUnXVsnY29yZSddWydsb2NhbGUnXVsnYWJiciddKTsKCSRwYXRoX2RlZmF1bHRfbG9jYWxlID0gcGhvc3Bob3JlX2luc3RhbGxhdGlvbl9wYXRoKCdsb2NhbGUnLCAkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2RlZmF1bHQnXVsnbG9jYWxlJ10pOwoJaWYgKFxpc19maWxlKCRwYXRoX2xvY2FsZSkpCgl7CgkJcmVxdWlyZSAkcGF0aF9sb2NhbGU7CgoJfQoJZWxzZSBpZiAoXGlzX2ZpbGUoJHBhdGhfZGVmYXVsdF9sb2NhbGUpKQoJewoJCXJlcXVpcmUgJHBhdGhfZGVmYXVsdF9sb2NhbGU7Cgl9CgllbHNlCgl7CgkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydub19sb2NhbGUnXSk7CgoJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ25vX2xvY2FsZSddKTsKCX0KCglpZiAoIVxpc19maWxlKCRHTE9CQUxTWydjb25maWcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsncGF0aCddWydpbnN0YWxsZWRfZmlsZSddKSkgLy8gbm90IGFscmVhZHkgaW5zdGFsbGVkCgl7CgkJaWYgKCFcaXNfZmlsZSgkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnc2VjcmV0X2ZpbGUnXSkpCgkJewoJCQkkc2VjcmV0X2ZpbGUgPSBcZm9wZW4oJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ3NlY3JldF9maWxlJ10sICd3Jyk7CgoJCQlpZiAoISRzZWNyZXRfZmlsZSkKCQkJewoJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydvcGVuX3NlY3JldF9maWxlJ10pOwoKCQkJCWV4aXQoKTsKCQkJfQoKCQkJJGNvbnRlbnQgPSBcYmluMmhleChccmFuZG9tX2J5dGVzKDE2KSk7CgoJCQlcZndyaXRlKCRzZWNyZXRfZmlsZSwgJGNvbnRlbnQpOwoKCQkJaWYgKCFcZmNsb3NlKCRzZWNyZXRfZmlsZSkpCgkJCXsKCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY2xvc2Vfc2VjcmV0X2ZpbGUnXSk7CgoJCQkJZXhpdCgpOwoJCQl9CgkJfQoKCQlpZiAoaXNzZXQoJF9QT1NUWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uX3NlY3JldCddKSkKCQl7CgkJCSRfU0VTU0lPTlsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydzZWNyZXQnXSA9ICRfUE9TVFsncGhvc3Bob3JlX2luc3RhbGxhdGlvbl9zZWNyZXQnXTsKCQl9CgoJCWlmIChpc3NldCgkX1NFU1NJT05bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnc2VjcmV0J10pKQoJCXsKCQkJaWYgKCRfU0VTU0lPTlsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydzZWNyZXQnXSAhPSBcZmlsZV9nZXRfY29udGVudHMoJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ3NlY3JldF9maWxlJ10pKQoJCQl7CgkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ3dyb25nX3NlY3JldCddKTsKCQkJCWVjaG8gJEdMT0JBTFNbJ2xvY2FsZSddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWyd3cm9uZ19zZWNyZXQnXTsKCgkJCQl1bnNldCgkX1NFU1NJT05bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnc2VjcmV0J10pOwoKCQkJCS8qIGNoYW5nZSBzZWNyZXQgKi8KCQkJCSRzZWNyZXRfZmlsZSA9IFxmb3BlbigkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnc2VjcmV0X2ZpbGUnXSwgJ3cnKTsKCgkJCQlpZiAoISRzZWNyZXRfZmlsZSkKCQkJCXsKCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ29wZW5fc2VjcmV0X2ZpbGUnXSk7CgoJCQkJCWV4aXQoKTsKCQkJCX0KCgkJCQkkY29udGVudCA9IFxiaW4yaGV4KFxyYW5kb21fYnl0ZXMoMTYpKTsKCgkJCQlcZndyaXRlKCRzZWNyZXRfZmlsZSwgJGNvbnRlbnQpOwoKCQkJCWlmICghXGZjbG9zZSgkc2VjcmV0X2ZpbGUpKQoJCQkJewoJCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY2xvc2Vfc2VjcmV0X2ZpbGUnXSk7CgoJCQkJCWV4aXQoKTsKCQkJCX0KCQkJCWV4aXQoKTsKCQkJfQoJCX0KCQllbHNlCgkJewoJCQkkZWxlbWVudHNfbGFuZyA9ICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3NlY3JldF9lbGVtZW50cyddOwoJCQkkcGFnZUVsZW1lbnQgPSBuZXcgXGNvbnRlbnRccGFnZWVsZW1lbnRcUGFnZUVsZW1lbnQoWwoJCQkJJ3RlbXBsYXRlJyA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnc2VjcmV0X3RlbXBsYXRlJ10sCgkJCQknZWxlbWVudHMnID0+IFsKCQkJCQknbGFuZycgICAgICAgICAgICAgICAgICA9PiAkR0xPQkFMU1snbGFuZyddWydjb3JlJ11bJ2xhbmcnXVsnYWJiciddLAoJCQkJCSd0aXRsZScgICAgICAgICAgICAgICAgID0+ICRlbGVtZW50c19sYW5nWyd0aXRsZSddLAoJCQkJCSdhY3Rpb24nICAgICAgICAgICAgICAgID0+ICcnLAoJCQkJCSdtZXRob2QnICAgICAgICAgICAgICAgID0+ICdQT1NUJywKCQkJCQknbGVnZW5kJyAgICAgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGVnZW5kJ10sCgkJCQkJJ2xhYmVsX3NlY3JldCcgICAgICAgICAgPT4gJGVsZW1lbnRzX2xhbmdbJ2xhYmVsX3NlY3JldCddLAoJCQkJCSd2YWx1ZV9zZWNyZXQnICAgICAgICAgID0+IAknJywKCQkJCQknc3VibWl0JyAgICAgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snc3VibWl0J10sCgkJCQldLAoJCQldKTsKCQkJZWNobyAkcGFnZUVsZW1lbnQtPmRpc3BsYXkoKTsKCQkJZXhpdCgpOwoJCX0KCgkJJHN0YWdlX2ZpbGUgPSAkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnc3RhZ2UnXTsKCQlpZiAoXGlzX2ZpbGUoJHN0YWdlX2ZpbGUpKQoJCXsKCQkJJGNvbnRlbnRzID0gXGZpbGUoJHN0YWdlX2ZpbGUsIEZJTEVfSUdOT1JFX05FV19MSU5FUyk7CgkJCWlmIChccGhvc3Bob3JlX2NvdW50KCRjb250ZW50cykgIT09IDEpCgkJCXsKCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnYmFkX3N0YWdlJ10pOwoKCQkJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2JhZF9zdGFnZSddKTsKCQkJfQoJCQkkc3RhZ2UgPSAoaW50KSRjb250ZW50c1swXTsKCQl9CgkJZWxzZQoJCXsKCQkJdHJ5CgkJCXsKCQkJCSRwZG8gPSBcY29yZVxEQkZhY3Rvcnk6OmNvbm5lY3Rpb24oKTsKCQkJfQoJCQljYXRjaCAoXFBET0V4Y2VwdGlvbiAkZXJyb3IpCgkJCXsKCQkJCSRzdGFnZSA9IDA7CgkJCX0KCQl9CgoKCQlpZiAoaXNzZXQoJHN0YWdlKSkKCQl7CgkJCWlmICgkc3RhZ2UgPT09IDEpCgkJCXsKCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydkZWJ1ZyddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnc3RhZ2VfMSddWydzdGFydCddKTsKCgkJCQkkY29uZmlnX3BhdGggPSAkR0xPQkFMU1snY29uZmlnJ11bJ2NvcmUnXVsncGF0aCddWydjb25maWcnXSAuICRHTE9CQUxTWydjb25maWcnXVsnY29yZSddWydjb25maWcnXVsnZmlsZW5hbWUnXTsKCgkJCQl0cnkKCQkJCXsKCQkJCQlpZiAoIVxpc19maWxlKCRjb25maWdfcGF0aCkpCgkJCQkJewoJCQkJCQkkY29uZmlnX2NvbnRlbnQgPSAnPD9waHAKCgkJJzsKCQkJCQkJJG9sZF9jb250ZW50ID0gJyc7IC8vIGJhY2t1cCAodXNlbGVzcykKCgkJCQkJfQoJCQkJCWVsc2UKCQkJCQl7CgkJCQkJCWlmICgkY29uZmlnX2NvbnRlbnQgPSBcZmlsZV9nZXRfY29udGVudHMoJGNvbmZpZ19wYXRoKSkKCQkJCQkJewoJCQkJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjYW5ub3Rfb3Blbl9jb25maWcnXSk7CgoJCQkJCQkJdGhyb3cgbmV3IFxleGNlcHRpb25cUEhvc1Bob3JlSW5zdGFsbGF0aW9uRXhjZXB0aW9uKCRHTE9CQUxTWydsb2NhbGUnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY2Fubm90X29wZW5fY29uZmlnJ10pOwoJCQkJCQl9CgoJCQkJCQkkb2xkX2NvbnRlbnQgPSAkY29uZmlnX2NvbnRlbnQ7IC8vIGJhY2t1cCAodXNlZnVsKQoKCQkJCQkJJGNvbmZpZ19jb250ZW50ID0gXHRyaW0oJGNvbmZpZ19jb250ZW50KTsKCgkJCQkJCWlmIChcc3Vic3RyKCRjb25maWdfY29udGVudCwgLTIpID09PSAnPz4nKSAvLyBkZWxldGUgZW5kIG9mIHRoZSBmaWxlCgkJCQkJCXsKCQkJCQkJCSRjb25maWdfY29udGVudCA9IFxzdWJzdHIoJGNvbmZpZ19jb250ZW50LCAwLCAtMik7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8qKiBzdGFydCBvZiBjb25maWcucGhwIGdlbmVyYXRpb24gKiovCgkJCQkJZm9yZWFjaCAoWydsYW5nJywgJ2xvY2FsZSddIGFzICRrZXkpCgkJCQkJewoJCQkJCQlpZiAoaXNzZXQoJF9QT1NUWyRrZXldKSkKCQkJCQkJewoJCQkJCQkJaWYgKCFlbXB0eSgkX1BPU1RbJGtleV0pKQoJCQkJCQkJewoJCQkJCQkJCSRwYWdlRWxlbWVudCA9IG5ldyBcY29udGVudFxwYWdlZWxlbWVudFxQYWdlRWxlbWVudChbCgkJCQkJCQkJCSd0ZW1wbGF0ZScgPT4gJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ2NvbmZpZ19maWxlcyddIC4gJ2NvbmZpZ18nIC4gJGtleSwKCQkJCQkJCQkJJ2VsZW1lbnRzJyA9PiBbCgkJCQkJCQkJCQkka2V5ID0+ICRfUE9TVFska2V5XSwKCQkJCQkJCQkJXSwKCQkJCQkJCQldKTsKCQkJCQkJCQkkY29uZmlnX2NvbnRlbnQgLj0gJHBhZ2VFbGVtZW50LT5kaXNwbGF5KCk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgoJCQkJCWlmIChpc3NldCgkX1BPU1RbJ2RyaXZlciddKSkKCQkJCQl7CgkJCQkJCWlmICghZW1wdHkoJF9QT1NUWydkcml2ZXInXSkpCgkJCQkJCXsKCQkJCQkJCWlmICghaW5fYXJyYXkoJF9QT1NUWydkcml2ZXInXSwgXGNvcmVcREJGYWN0b3J5OjpEUklWRVJTKSkKCQkJCQkJCXsKCQkJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ3Vua25vd25fZHJpdmVyJ10sIFsnZHJpdmVyJyA9PiAkX1BPU1RbJ2RyaXZlciddXSk7CgoJCQkJCQkJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ3Vua25vd25fZHJpdmVyJ10pOwoJCQkJCQkJfQoJCQkJCQkJJGRhdGFiYXNlID0gW107CgoJCQkJCQkJJGRhdGFiYXNlW10gPSBuZXcgXGNvbnRlbnRccGFnZWVsZW1lbnRcUGFnZUVsZW1lbnQoWwoJCQkJCQkJCSd0ZW1wbGF0ZScgPT4gJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ2NvbmZpZ19maWxlcyddIC4gJ2NvbmZpZ19kYXRhYmFzZV9kcml2ZXInLAoJCQkJCQkJCSdlbGVtZW50cycgPT4gWwoJCQkJCQkJCQknZHJpdmVyJyA9PiAkX1BPU1RbJ2RyaXZlciddLAoJCQkJCQkJCV0sCgkJCQkJCQldKTsKCgkJCQkJCQkkZHJpdmVycyA9IFtdOwoKCQkJCQkJCS8qKiBnZW5lcmF0aW5nIHVzZXJuYW1lIGFuZCBwYXNzd29yZCBmb3IgY3JlYXRlZCB1c2VyICoqLwoJCQkJCQkJJHVzZXJuYW1lID0gJ3Bob3NwaG9yZV91c2VyJzsKCQkJCQkJCSRwYXNzd29yZCA9IFxiaW4yaGV4KFxyYW5kb21fYnl0ZXMoJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydkYXRhYmFzZV91c2VyX3Bhc3N3b3JkX2xlbmd0aCddKSk7CgoJCQkJCQkJJGRyaXZlcnNbXSA9IG5ldyBcY29udGVudFxwYWdlZWxlbWVudFxQYWdlRWxlbWVudChbCgkJCQkJCQkJJ3RlbXBsYXRlJyA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnY29uZmlnX2ZpbGVzJ10gLiAnY29uZmlnX2RhdGFiYXNlX2RyaXZlcnNfdXNlcm5hbWUnLAoJCQkJCQkJCSdlbGVtZW50cycgPT4gWwoJCQkJCQkJCQknZHJpdmVyJyAgID0+ICRfUE9TVFsnZHJpdmVyJ10sCgkJCQkJCQkJCSd1c2VybmFtZScgPT4gJHVzZXJuYW1lLAoJCQkJCQkJCV0sCgkJCQkJCQldKTsKCgkJCQkJCQkkZHJpdmVyc1tdID0gbmV3IFxjb250ZW50XHBhZ2VlbGVtZW50XFBhZ2VFbGVtZW50KFsKCQkJCQkJCQkndGVtcGxhdGUnID0+ICRHTE9CQUxTWydjb25maWcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsncGF0aCddWydjb25maWdfZmlsZXMnXSAuICdjb25maWdfZGF0YWJhc2VfZHJpdmVyc19wYXNzd29yZCcsCgkJCQkJCQkJJ2VsZW1lbnRzJyA9PiBbCgkJCQkJCQkJCSdkcml2ZXInICAgPT4gJF9QT1NUWydkcml2ZXInXSwKCQkJCQkJCQkJJ3Bhc3N3b3JkJyA9PiAkcGFzc3dvcmQsCgkJCQkJCQkJXSwKCQkJCQkJCV0pOwoKCQkJCQkJCXN3aXRjaCAoJF9QT1NUWydkcml2ZXInXSkKCQkJCQkJCXsKCQkJCQkJCQljYXNlICdNWVNRTCc6CgkJCQkJCQkJCSRrZXlzID0gWydob3N0JywgJ3BvcnQnLCAnZGJuYW1lJywgJ3VuaXhfc29ja2V0JywgJ2NoYXJzZXQnXTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAnUE9TVEdSRVNRTCc6CgkJCQkJCQkJCSRrZXlzID0gWydob3N0JywgJ3BvcnQnLCAnZGJuYW1lJ107CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgJ0ZJUkVCSVJEJzoKCQkJCQkJCQkJJGtleXMgPSBbJ3JvbGUnLCAnZGlhbGVjdCddOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICdTUUxJVEUnOgoJCQkJCQkJCQkka2V5cyA9IFsnbWVtb3J5JywgJ3BhdGgnXTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCQlmb3JlYWNoICgka2V5cyBhcyAka2V5KQoJCQkJCQkJewoJCQkJCQkJCWlmIChpc3NldCgkX1BPU1RbJGtleV0pKQoJCQkJCQkJCXsKCQkJCQkJCQkJaWYgKCFlbXB0eSgkX1BPU1RbJGtleV0pKQoJCQkJCQkJCQl7CgkJCQkJCQkJCQkkZHJpdmVyc1tdID0gbmV3IFxjb250ZW50XHBhZ2VlbGVtZW50XFBhZ2VFbGVtZW50KFsKCQkJCQkJCQkJCQkndGVtcGxhdGUnID0+ICRHTE9CQUxTWydjb25maWcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsncGF0aCddWydjb25maWdfZmlsZXMnXSAuICdjb25maWdfZGF0YWJhc2VfZHJpdmVyc18nIC4gJGtleSwKCQkJCQkJCQkJCQknZWxlbWVudHMnID0+IFsKCQkJCQkJCQkJCQkJJ2RyaXZlcicgPT4gJF9QT1NUWydkcml2ZXInXSwKCQkJCQkJCQkJCQkJJGtleSAgICAgPT4gJF9QT1NUWyRrZXldLAoJCQkJCQkJCQkJCV0sCgkJCQkJCQkJCQldKTsKCQkJCQkJCQkJfQoJCQkJCQkJCX0KCQkJCQkJCX0KCgkJCQkJCQkkZGF0YWJhc2VbXSA9IG5ldyBcY29udGVudFxwYWdlZWxlbWVudFxQYWdlRWxlbWVudChbCgkJCQkJCQkJJ3RlbXBsYXRlJyA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnY29uZmlnX2ZpbGVzJ10gLiAnY29uZmlnX2RhdGFiYXNlX2RyaXZlcnMnLAoJCQkJCQkJCSdlbGVtZW50cycgPT4gWwoJCQkJCQkJCQknZHJpdmVyJyAgPT4gJF9QT1NUWydkcml2ZXInXSwKCQkJCQkJCQkJJ2RyaXZlcnMnID0+ICRkcml2ZXJzLAoJCQkJCQkJCV0sCgkJCQkJCQldKTsKCQkJCQkJCSREYXRhYmFzZSA9IG5ldyBcY29udGVudFxwYWdlZWxlbWVudFxQYWdlRWxlbWVudChbCgkJCQkJCQkJJ3RlbXBsYXRlJyA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnY29uZmlnX2ZpbGVzJ10gLiAnY29uZmlnX2RhdGFiYXNlJywKCQkJCQkJCQknZWxlbWVudHMnID0+IFsKCQkJCQkJCQkJJ2RhdGFiYXNlJyA9PiAkZGF0YWJhc2UsCgkJCQkJCQkJXSwKCQkJCQkJCV0pOwoJCQkJCQkJJGNvbmZpZ19jb250ZW50IC49ICREYXRhYmFzZS0+ZGlzcGxheSgpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCS8qKiBlbmQgb2YgY29uZmlnLnBocCBnZW5lcmF0aW9uICoqLwoKCQkJCQkkY29uZmlnX2NvbnRlbnQgLj0gJwoJCT8+JzsKCgkJCQkJaWYgKCFcaXNfZmlsZSgkY29uZmlnX3BhdGgpKQoJCQkJCXsKCQkJCQkJaWYgKCEkY29uZmlnX2ZpbGUgPSBcZm9wZW4oJGNvbmZpZ19wYXRoLCAndycpKSAvLyBkZWxldGUgZmlsZSBpZiBub3QgZXhpc3QKCQkJCQkJewoJCQkJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjYW5ub3Rfb3Blbl9jb25maWcnXSk7CgoJCQkJCQkJdGhyb3cgbmV3IFxleGNlcHRpb25cUEhvc1Bob3JlSW5zdGFsbGF0aW9uRXhjZXB0aW9uKCRHTE9CQUxTWydsb2NhbGUnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY2Fubm90X29wZW5fY29uZmlnJ10pOwoJCQkJCQl9CgoJCQkJCQlcZndyaXRlKCRjb25maWdfZmlsZSwgJGNvbmZpZ19jb250ZW50KTsKCgkJCQkJCWlmICghXGZjbG9zZSgkY29uZmlnX2ZpbGUpKQoJCQkJCQl7CgkJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9jbG9zZV9jb25maWcnXSk7CgoJCQkJCQkJdGhyb3cgbmV3IFxleGNlcHRpb25cUEhvc1Bob3JlSW5zdGFsbGF0aW9uRXhjZXB0aW9uKCRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9jbG9zZV9jb25maWcnXSk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJZWxzZQoJCQkJCXsKCQkJCQkJaWYgKCRjb25maWdfZmlsZSA9IFxmb3BlbigkY29uZmlnX3BhdGgsICdhJykpIC8vIHVwZGF0ZSBmaWxlIGlmIGV4aXN0CgkJCQkJCXsKCQkJCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY2Fubm90X29wZW5fY29uZmlnJ10pOwoKCQkJCQkJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9vcGVuX2NvbmZpZyddKTsKCQkJCQkJfQoKCQkJCQkJXGZ3cml0ZSgkY29uZmlnX2ZpbGUsICRjb25maWdfY29udGVudCk7CgoJCQkJCQlpZiAoIVxmY2xvc2UoJGNvbmZpZ19maWxlKSkKCQkJCQkJewoJCQkJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjYW5ub3RfY2xvc2VfY29uZmlnJ10pOwoKCQkJCQkJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjYW5ub3RfY2xvc2VfY29uZmlnJ10pOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlpbmNsdWRlKCRjb25maWdfcGF0aCk7CgoJCQkJCXRyeQoJCQkJCXsKCQkJCQkJLyoqIHRyeSBkYXRhYmFzZSBjb25uZWN0aW9uIHdpdGggcGFyYW1ldGVyICoqLwoKCQkJCQkJJGNvbmZpZ19kYmZhY3RvcnkgPSAkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ2NvcmUnXVsnREJGYWN0b3J5J11bJ2RhdGFiYXNlJ107CgoJCQkJCQlpZiAoXGluX2FycmF5KCRjb25maWdfZGJmYWN0b3J5Wydkcml2ZXInXSwgWydNWVNRTCcsICdQT1NUR1JFU1FMJ10pKQoJCQkJCQl7CgkJCQkJCQkkZHNuX3BhcmFtZXRlcnMgPSAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWyRjb25maWdfZGJmYWN0b3J5Wydkcml2ZXInXV1bJ2Rzbl9wYXJhbWV0ZXJzJ107CgkJCQkJCQl1bnNldCgkZHNuX3BhcmFtZXRlcnNbJ2RibmFtZSddKTsKCQkJCQkJCSRwZG8gPSBcY29yZVxEQkZhY3Rvcnk6OmNvbm5lY3Rpb24oZHNuX3BhcmFtZXRlcnM6ICRkc25fcGFyYW1ldGVycyx1c2VybmFtZTogJF9QT1NUWyd1c2VybmFtZSddLCBwYXNzd29yZDogJF9QT1NUWydwYXNzd29yZCddKTsKCQkJCQkJCSRwZG8tPnNldEF0dHJpYnV0ZShQRE86OkFUVFJfRVJSTU9ERSwgUERPOjpFUlJNT0RFX0VYQ0VQVElPTik7CgkJCQkJCX0KCgkJCQkJCXRyeQoJCQkJCQl7CgkJCQkJCQkvKiogY3JlYXRlIHVzZXIgKiovCgkJCQkJCQlpZiAoJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddID09PSAnTVlTUUwnKQoJCQkJCQkJewoJCQkJCQkJCSRyZXF1ZXN0ID0gJHBkby0+cHJlcGFyZSgnQ1JFQVRFIFVTRVIgYCcgLiAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWydNWVNRTCddWyd1c2VybmFtZSddIC4gJ2BAYGxvY2FsaG9zdGAgSURFTlRJRklFRCBCWSBcJycgLiAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWydNWVNRTCddWydwYXNzd29yZCddIC4gJ1wnJyk7CgkJCQkJCQkJJHJlcXVlc3QtPmV4ZWN1dGUoW10pOwoJCQkJCQkJfQoJCQkJCQkJZWxzZSBpZiAoJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddID09PSAnUE9TVEdSRVNRTCcpCgkJCQkJCQl7CgkJCQkJCQkJJHJlcXVlc3QgPSAkcGRvLT5wcmVwYXJlKCdDUkVBVEUgVVNFUiA/IFdJVEggUEFTU1dPUkQgPycpOwoJCQkJCQkJCSRyZXF1ZXN0LT5leGVjdXRlKFsnYCcgLiAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWydQT1NUR1JFU1FMJ11bJ3VzZXJuYW1lJ10gLiAnYEBgbG9jYWxob3N0YCcsICdcJycgLiAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWydQT1NUR1JFU1FMJ11bJ3Bhc3N3b3JkJ10gLiAnXCcnXSk7CgkJCQkJCQl9CgoJCQkJCQkJdHJ5CgkJCQkJCQl7CgkJCQkJCQkJLyoqIGNyZWF0ZSBkYXRhYmFzZSAqKi8KCQkJCQkJCQlpZiAoJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddID09PSAnTVlTUUwnKQoJCQkJCQkJCXsKCQkJCQkJCQkJJHJlcXVlc3QgPSAkcGRvLT5wcmVwYXJlKCdDUkVBVEUgREFUQUJBU0UgYCcgLiAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWydNWVNRTCddWydkc25fcGFyYW1ldGVycyddWydkYm5hbWUnXSAuICdgJyk7CgkJCQkJCQkJCSRyZXF1ZXN0LT5leGVjdXRlKCk7CgoJCQkJCQkJCQkkcmVxdWVzdCA9ICRwZG8tPnByZXBhcmUoJ0dSQU5UIEFMTCBQUklWSUxFR0VTIE9OIGAnIC4gJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlcnMnXVsnTVlTUUwnXVsnZHNuX3BhcmFtZXRlcnMnXVsnZGJuYW1lJ10gLiAnYC4qIFRPICcgLiAnYCcgLiAkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVycyddWydNWVNRTCddWyd1c2VybmFtZSddIC4gJ2BAYGxvY2FsaG9zdGAnKTsKCQkJCQkJCQkJJHJlcXVlc3QtPmV4ZWN1dGUoW10pOwoJCQkJCQkJCX0KCQkJCQkJCQllbHNlIGlmICgkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVyJ10gPT09ICdQT1NUR1JFU1FMJykKCQkJCQkJCQl7CgkJCQkJCQkJCSRyZXF1ZXN0ID0gJHBkby0+cHJlcGFyZSgnQ1JFQVRFIERBVEFCQVNFID8gV0lUSCBPV05FUiA9ID8nKTsKCQkJCQkJCQkJJHJlcXVlc3QtPmV4ZWN1dGUoWyRjb25maWdfZGJmYWN0b3J5Wydkcml2ZXJzJ11bJ1BPU1RHUkVTUUwnXVsnZHNuX3BhcmFtZXRlcnMnXVsnZGJuYW1lJ10sICdgJyAuICRjb25maWdfZGJmYWN0b3J5Wydkcml2ZXJzJ11bJ1BPU1RHUkVTUUwnXVsndXNlcm5hbWUnXSAuICdgQGBsb2NhbGhvc3RgJ10pOwoJCQkJCQkJCX0KCgkJCQkJCQkJdHJ5CgkJCQkJCQkJewoJCQkJCQkJCQkkcmVxdWVzdCA9ICRwZG8tPnByZXBhcmUoJ0ZMVVNIIFBSSVZJTEVHRVMnKTsKCQkJCQkJCQkJJHJlcXVlc3QtPmV4ZWN1dGUoKTsKCgkJCQkJCQkJCSRwZG9fdXNlciA9IFxjb3JlXERCRmFjdG9yeTo6Y29ubmVjdGlvbigpOyAvLyB1c2VyIGlzIGNyZWF0ZWQgd2l0aCB0aGUgZ29vZCBwZXJtaXNzaW9uCgkJCQkJCQkJCSRwZG9fdXNlci0+c2V0QXR0cmlidXRlKFBETzo6QVRUUl9FUlJNT0RFLCBQRE86OkVSUk1PREVfRVhDRVBUSU9OKTsKCgkJCQkJCQkJCS8qKiBjcmVhdGUgdGFibGUgKiovCgkJCQkJCQkJCWlmIChcaW5fYXJyYXkoJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddLCBbJ01ZU1FMJywgJ1BPU1RHUkVTUUwnXSkpCgkJCQkJCQkJCXsKCQkJCQkJCQkJCSRyZXF1ZXN0X2NvbnRlbnQgPSBcZmlsZV9nZXRfY29udGVudHMoJEdMT0JBTFNbJ2NvbmZpZyddWydjb3JlJ11bJ3BhdGgnXVsnYXNzZXQnXSAuICdzcWwnIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuICdtb2QnIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJyAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAndGFibGVfY3JlYXRpb24uc3FsJyk7CgoJCQkJCQkJCQkJJHJlcXVlc3QgPSAkcGRvX3VzZXItPnByZXBhcmUoJHJlcXVlc3RfY29udGVudCk7CgkJCQkJCQkJCQkkcmVxdWVzdC0+ZXhlY3V0ZShbXSk7CgkJCQkJCQkJCX0KCgkJCQkJCQkJCSRyZXF1ZXN0ID0gJHBkby0+cHJlcGFyZSgnRkxVU0ggVEFCTEVTJyk7CgkJCQkJCQkJCSRyZXF1ZXN0LT5leGVjdXRlKFtdKTsKCgkJCQkJCQkJCS8qKiBpbnNlcnQgbmVjZXNzYXJ5IGVsZW1lbnRzICoqLwoJCQkJCQkJCQkkRXJyb3JGb2xkZXIgPSBuZXcgXHJvdXRlXEZvbGRlcihbCgkJCQkJCQkJCQknbmFtZScgICAgICA9PiAnZXJyb3InLAoJCQkJCQkJCQldKTsKCQkJCQkJCQkJJEVycm9yRm9sZGVyLT5hZGQoKTsKCQkJCQkJCQkJJE1haW5Gb2xkZXIgPSBuZXcgXHJvdXRlXEZvbGRlcihbCgkJCQkJCQkJCQknbmFtZScgICAgICA9PiAnbWFpbicsCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkTWFpbkZvbGRlci0+YWRkKCk7CgkJCQkJCQkJCSRIb21lRm9sZGVyID0gbmV3IFxyb3V0ZVxGb2xkZXIoWwoJCQkJCQkJCQkJJ25hbWUnID0+ICdob21lJywKCQkJCQkJCQkJCSdpZF9wYXJlbnQnID0+ICRNYWluRm9sZGVyLT5nZXQoJ2lkJyksCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkSG9tZUZvbGRlci0+YWRkKCk7CgkJCQkJCQkJCSRFcnJvclJvdXRlID0gbmV3IFxyb3V0ZVxSb3V0ZShbCgkJCQkJCQkJCQknbmFtZScgPT4gJ2Vycm9yJywKCQkJCQkJCQkJCSd0eXBlJyA9PiBccm91dGVcUm91dGU6OlRZUEVTWydwYWdlJ10sCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkRXJyb3JSb3V0ZS0+YWRkKCk7CgkJCQkJCQkJCSRNYWluUm91dGUgPSBuZXcgXHJvdXRlXFJvdXRlKFsKCQkJCQkJCQkJCSduYW1lJyA9PiAnbWFpbicsCgkJCQkJCQkJCQkndHlwZScgPT4gXHJvdXRlXFJvdXRlOjpUWVBFU1snZm9sZGVyJ10sCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkTWFpblJvdXRlLT5hZGQoKTsKCQkJCQkJCQkJJEhvbWVSb3V0ZSA9IG5ldyBccm91dGVcUm91dGUoWwoJCQkJCQkJCQkJJ25hbWUnID0+ICdob21lJywKCQkJCQkJCQkJCSd0eXBlJyA9PiBccm91dGVcUm91dGU6OlRZUEVTWydwYWdlJ10sCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkSG9tZVJvdXRlLT5hZGQoKTsKCgkJCQkJCQkJCSRMaW5rUm91dGVSb3V0ZSA9IG5ldyBccm91dGVcTGlua1JvdXRlUm91dGUoKTsKCQkJCQkJCQkJJExpbmtSb3V0ZVJvdXRlLT5hZGQoWwoJCQkJCQkJCQkJJ2lkX3JvdXRlX3BhcmVudCcgPT4gMiwKCQkJCQkJCQkJCSdpZF9yb3V0ZV9jaGlsZCcgID0+IDMsCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkTWFpblBhcmFtZXRlciA9IG5ldyBcdXNlclxQYXJhbWV0ZXIoWwoJCQkJCQkJCQkJJ2tleScgICA9PiAncHJlc2V0JywKCQkJCQkJCQkJCSd2YWx1ZScgPT4gJ2RlZmF1bHRfaHRtbCcsCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkTWFpblBhcmFtZXRlci0+YWRkKCk7CgkJCQkJCQkJCSRMaW5rUGFnZVBhcmFtZXRlciA9IG5ldyBcdXNlclxMaW5rUGFnZVBhcmFtZXRlcigpOwoJCQkJCQkJCQkkTGlua1BhZ2VQYXJhbWV0ZXItPmFkZChbCgkJCQkJCQkJCQknaWRfcGFnZScgICAgICA9PiAzLAoJCQkJCQkJCQkJJ2lkX3BhcmFtZXRlcicgPT4gMSwKCQkJCQkJCQkJXSk7CgoJCQkJCQkJCQkkUGFzc3dvcmQgPSBuZXcgXHVzZXJcUGFzc3dvcmQoWwoJCQkJCQkJCQkJJ3Bhc3N3b3JkX2NsZWFyJyA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NvcmUnXVsnbG9naW4nXVsnZ3Vlc3QnXVsncGFzc3dvcmQnXSwKCQkJCQkJCQkJXSk7CgkJCQkJCQkJCSRQYXNzd29yZC0+aGFzaCgpOwoJCQkJCQkJCQkkUGVybWlzc2lvbnMgPSBbXTsKCQkJCQkJCQkJJFBlcm1pc3Npb25zW10gPSBuZXcgXHVzZXJcUGVybWlzc2lvbihbCgkJCQkJCQkJCQknaWRfcm91dGUnICA9PiAxLAoJCQkJCQkJCQkJJ25hbWVfcm9sZScgPT4gJ2FsbCcsCgkJCQkJCQkJCV0pOwoJCQkJCQkJCQkkUGVybWlzc2lvbnNbXSA9IG5ldyBcdXNlclxQZXJtaXNzaW9uKFsKCQkJCQkJCQkJCSdpZF9yb3V0ZScgID0+IDMsCgkJCQkJCQkJCQknbmFtZV9yb2xlJyA9PiAnYWxsJywKCQkJCQkJCQkJXSk7CgkJCQkJCQkJCWZvcmVhY2ggKCRQZXJtaXNzaW9ucyBhcyAkUGVybWlzc2lvbikKCQkJCQkJCQkJewoJCQkJCQkJCQkJJFBlcm1pc3Npb24tPmFkZCgpOwoJCQkJCQkJCQl9CgoJCQkJCQkJCQkkUm9sZSA9IG5ldyBcdXNlclxSb2xlKFsKCQkJCQkJCQkJCSduYW1lX3JvbGUnID0+ICdhbGwnLAoJCQkJCQkJCQldKTsKCQkJCQkJCQkJJFZpc2l0b3IgPSBuZXcgXHVzZXJcVmlzaXRvcihbCgkJCQkJCQkJCQknbmlja25hbWUnID0+ICRHTE9CQUxTWydjb25maWcnXVsnY29yZSddWydsb2dpbiddWydndWVzdCddWyduaWNrbmFtZSddLAoJCQkJCQkJCQkJJ3Bhc3N3b3JkJyA9PiAkUGFzc3dvcmQsCgkJCQkJCQkJCQkncm9sZXMnICAgID0+IFsKCQkJCQkJCQkJCQkkUm9sZQoJCQkJCQkJCQkJXSwKCQkJCQkJCQkJXSk7CgkJCQkJCQkJCSRWaXNpdG9yLT5yZWdpc3RlcigpOwoJCQkJCQkJCX0KCQkJCQkJCQljYXRjaCAoXEV4Y2VwdGlvbiAkZXhjZXB0aW9uKQoJCQkJCQkJCXsKCQkJCQkJCQkJLy8gZXJyb3Igd2hlbiBmZWVkaW5nIHRoZSB0YWJsZSA9PiBidWcgdG8gcmVwb3J0CgkJCQkJCQkJCS8vIGNsZWFuIGNvbmZpZy5waHAKCQkJCQkJCQkJLy8gY2xlYW4gdXNlcgoJCQkJCQkJCQkvLyBjbGVhbiB0YWJsZQoJCQkJCQkJCQkkbGV2ZWwgPSAwOwoJCQkJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2ZlZWRpbmdfdGFibGUnXSwgWydleGNlcHRpb24nID0+ICRleGNlcHRpb25dKTsKCQkJCQkJCQkJZWNobyAkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2ZlZWRpbmdfdGFibGUnXTsKCgkJCQkJCQkJCWlmIChcaW5fYXJyYXkoJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddLCBbJ01ZU1FMJywgJ1BPU1RHUkVTUUwnXSkpCgkJCQkJCQkJCXsKCQkJCQkJCQkJCSRyZXF1ZXN0ID0gJHBkby0+cHJlcGFyZSgnRFJPUCBEQVRBQkFTRSBgJyAuICRjb25maWdfZGJmYWN0b3J5Wydkcml2ZXJzJ11bJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddXVsnZHNuX3BhcmFtZXRlcnMnXVsnZGJuYW1lJ10gLiAnYCcpOwoJCQkJCQkJCQkJJHJlcXVlc3QtPmV4ZWN1dGUoW10pOwoJCQkJCQkJCQl9CgkJCQkJCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydpbmZvJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydzdGFnZV8xJ11bJ2RlbGV0ZWRfdGFibGUnXSk7CgoJCQkJCQkJCQl0aHJvdyBuZXcgXEV4Y2VwdGlvbignbm8gYWRkaXRpb25hbCBlcnJvcicpOwoJCQkJCQkJCX0KCgkJCQkJCQkJLy8gY2xlYW4gc3RhZ2UgZmlsZSwgaW5zdGFsbGF0aW9uIGZpbmlzaGVkCgkJCQkJCQkJaWYgKFxpc19maWxlKCRzdGFnZV9maWxlKSkKCQkJCQkJCQl7CgkJCQkJCQkJCVx1bmxpbmsoJHN0YWdlX2ZpbGUpOwoJCQkJCQkJCX0KCQkJCQkJCQlpZiAoXGlzX2ZpbGUoJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ3NlY3JldF9maWxlJ10pKQoJCQkJCQkJCXsKCQkJCQkJCQkJXHVubGluaygkR0xPQkFMU1snY29uZmlnJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3BhdGgnXVsnc2VjcmV0X2ZpbGUnXSk7CgkJCQkJCQkJfQoKCQkJCQkJCQkkaW5zdGFsbGVkX2ZpbGUgPSBcZm9wZW4oJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ2luc3RhbGxlZF9maWxlJ10sICd3Jyk7IC8vIG1hcmsgc3lzdGVtIGFzIGluc3RhbGxlZCBmb3IgdGhpcyBtb2R1bGUKCQkJCQkJCQlcZndyaXRlKCRpbnN0YWxsZWRfZmlsZSwgJzEnKTsKCQkJCQkJCQlcZmNsb3NlKCRpbnN0YWxsZWRfZmlsZSk7CgoJCQkJCQkJCSROb3RpZmljYXRpb24gPSBuZXcgXHVzZXJcTm90aWZpY2F0aW9uKFsKCQkJCQkJCQkJJ3RleHQnID0+ICRHTE9CQUxTWydsb2NhbGUnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnc3VjY2Vzc19pbnN0YWxsYXRpb25fbm90aWZpY2F0aW9uJ10sCgkJCQkJCQkJCSd0eXBlJyA9PiBcdXNlclxOb3RpZmljYXRpb246OlRZUEVTWydzdWNjZXNzJ10sCgkJCQkJCQkJXSk7CgkJCQkJCQkJJE5vdGlmaWNhdGlvbi0+YWRkVG9TZXNzaW9uKCk7CgkJCQkJCQl9CgkJCQkJCQljYXRjaCAoXEV4Y2VwdGlvbiAkZXhjZXB0aW9uKQoJCQkJCQkJewoJCQkJCQkJCS8vIGVycm9yIHdoZW4gY3JlYXRpbmcgYSB0YWJsZQoJCQkJCQkJCS8vIGNsZWFuIGNvbmZpZy5waHAKCQkJCQkJCQkvLyBjbGVhbiB1c2VyCgkJCQkJCQkJaWYgKCFpc3NldCgkbGV2ZWwpKQoJCQkJCQkJCXsKCQkJCQkJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjcmVhdGVfdGFibGUnXSwgWydleGNlcHRpb24nID0+ICRleGNlcHRpb25dKTsKCQkJCQkJCQkJZWNobyAkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2NyZWF0ZV90YWJsZSddOwoJCQkJCQkJCQkkbGV2ZWwgPSAxOwoJCQkJCQkJCX0KCgkJCQkJCQkJaWYgKFxpbl9hcnJheSgkY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVyJ10sIFsnTVlTUUwnLCAnUE9TVEdSRVNRTCddKSkKCQkJCQkJCQl7CgkJCQkJCQkJCSRyZXF1ZXN0ID0gJHBkby0+cHJlcGFyZSgnRFJPUCBVU0VSIGAnIC4gJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlcnMnXVskY29uZmlnX2RiZmFjdG9yeVsnZHJpdmVyJ11dWyd1c2VybmFtZSddIC4gJ2BAYGxvY2FsaG9zdGAnKTsKCQkJCQkJCQkJJHJlcXVlc3QtPmV4ZWN1dGUoW10pOwoJCQkJCQkJCX0KCQkJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snaW5mbyddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnc3RhZ2VfMSddWydkZWxldGVkX3VzZXInXSk7CgoJCQkJCQkJCXRocm93IG5ldyBcUERPRXhjZXB0aW9uKCdubyBhZGRpdGlvbmFsIGVycm9yJyk7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJY2F0Y2ggKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikKCQkJCQkJewoJCQkJCQkJLy8gZXJyb3Igd2hlbiBjcmVhdGluZyBhbiB1c2VyCgkJCQkJCQkvLyBjbGVhbiBjb25maWcucGhwCgkJCQkJCQlpZiAoIWlzc2V0KCRsZXZlbCkpCgkJCQkJCQl7CgkJCQkJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2Vycm9yJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjcmVhdGVfdXNlciddLCBbJ2V4Y2VwdGlvbicgPT4gJGV4Y2VwdGlvbl0pOwoJCQkJCQkJCWVjaG8gJEdMT0JBTFNbJ2xvY2FsZSddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjcmVhdGVfdXNlciddOwoJCQkJCQkJCSRsZXZlbCA9IDI7CgkJCQkJCQl9CgoJCQkJCQkJdGhyb3cgbmV3IFxFeGNlcHRpb24oJ25vIGFkZGl0aW9uYWwgZXJyb3InKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQljYXRjaCAoXEV4Y2VwdGlvbiAkZXhjZXB0aW9uKQoJCQkJCXsKCQkJCQkJLy8gZXJyb3Igd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVyCgkJCQkJCS8vIGNsZWFuIGNvbmZpZy5waHAKCQkJCQkJaWYgKCFpc3NldCgkbGV2ZWwpKQoJCQkJCQl7CgkJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nvbm5lY3RfZGF0YWJhc2UnXSwgWydleGNlcHRpb24nID0+ICRleGNlcHRpb25dKTsKCQkJCQkJCWVjaG8gJEdMT0JBTFNbJ2xvY2FsZSddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydlcnJvciddWydjb25uZWN0X2RhdGFiYXNlJ107CgkJCQkJCQkkbGV2ZWwgPSAzOwoJCQkJCQl9CgoJCQkJCQkkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ0RCRmFjdG9yeSddWydkYXRhYmFzZSddWydkcml2ZXJzJ11bJGNvbmZpZ19kYmZhY3RvcnlbJ2RyaXZlciddXVsndXNlcm5hbWUnXSA9ICRfUE9TVFsndXNlcm5hbWUnXTsKCQkJCQkJJEdMT0JBTFNbJ2NvbmZpZyddWydjbGFzcyddWydEQkZhY3RvcnknXVsnZGF0YWJhc2UnXVsnZHJpdmVycyddWyRjb25maWdfZGJmYWN0b3J5Wydkcml2ZXInXV1bJ3Bhc3N3b3JkJ10gPSAkX1BPU1RbJ3Bhc3N3b3JkJ107CgoJCQkJCQlpZiAoXGlzX2ZpbGUoJGNvbmZpZ19wYXRoKSkKCQkJCQkJewoJCQkJCQkJaWYgKFxwaG9zcGhvcmVfY291bnQoJG9sZF9jb250ZW50KSAhPT0gMCkgLy8gYmFja3VwIGNvbmZpZyBmaWxlCgkJCQkJCQl7CgkJCQkJCQkJaWYgKCRjb25maWdfZmlsZSA9IFxmb3BlbigkY29uZmlnX3BhdGgsICd3JykpCgkJCQkJCQkJewoJCQkJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9vcGVuX2NvbmZpZyddKTsKCgkJCQkJCQkJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9vcGVuX2NvbmZpZyddKTsKCQkJCQkJCQl9CgoJCQkJCQkJCVxmd3JpdGUoJGNvbmZpZ19maWxlLCAkb2xkX2NvbnRlbnQpOwoKCQkJCQkJCQlpZiAoIVxmY2xvc2UoJGNvbmZpZ19maWxlKSkKCQkJCQkJCQl7CgkJCQkJCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydlcnJvciddLCAnbW9kJywgJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXSwgJEdMT0JBTFNbJ2xhbmcnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY2Fubm90X2Nsb3NlX2NvbmZpZyddKTsKCgkJCQkJCQkJCXRocm93IG5ldyBcZXhjZXB0aW9uXFBIb3NQaG9yZUluc3RhbGxhdGlvbkV4Y2VwdGlvbigkR0xPQkFMU1snbG9jYWxlJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9jbG9zZV9jb25maWcnXSk7CgkJCQkJCQkJfQoJCQkJCQkJCSRHTE9CQUxTWydMb2dnZXInXS0+bG9nKFtcY29yZVxMb2dnZXI6OlRZUEVTWydpbmZvJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydzdGFnZV8xJ11bJ3Jlc3RvcmVkX2NvbmZpZyddKTsKCQkJCQkJCX0KCQkJCQkJCWVsc2UKCQkJCQkJCXsKCQkJCQkJCQlcdW5saW5rKCRjb25maWdfcGF0aCk7CgkJCQkJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2luZm8nXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ3N0YWdlXzEnXVsnZGVsZXRlZF9jb25maWcnXSk7CgkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCXRocm93IG5ldyBcRXhjZXB0aW9uKCdubyBhZGRpdGlvbmFsIGVycm9yJyk7CgkJCQkJfQoJCQkJfQoJCQkJY2F0Y2ggKFxFeGNlcHRpb24gJGV4Y2VwdGlvbikKCQkJCXsKCQkJCQkvLyBlcnJvciB3aGVuIGNyZWF0aW5nIGNvbmZpZy5waHAKCQkJCQlpZiAoIWlzc2V0KCRsZXZlbCkpCgkJCQkJewoJCQkJCQkkR0xPQkFMU1snTG9nZ2VyJ10tPmxvZyhbXGNvcmVcTG9nZ2VyOjpUWVBFU1snZXJyb3InXSwgJ21vZCcsICdwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ10sICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2NvbmZpZ19jcmVhdGlvbiddLCBbJ2V4Y2VwdGlvbicgPT4gJGV4Y2VwdGlvbl0pOwoJCQkJCQllY2hvICRHTE9CQUxTWydsb2NhbGUnXVsnbW9kJ11bJ3Bob3NwaG9yZV9pbnN0YWxsYXRpb24nXVsnZXJyb3InXVsnY29uZmlnX2NyZWF0aW9uJ107CgkJCQkJfQoJCQkJCSRzdGFnZSA9IDA7CgkJCQl9CgoJCQkJJEdMT0JBTFNbJ0xvZ2dlciddLT5sb2coW1xjb3JlXExvZ2dlcjo6VFlQRVNbJ2RlYnVnJ10sICdtb2QnLCAncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddLCAkR0xPQkFMU1snbGFuZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydzdGFnZV8xJ11bJ2VuZCddKTsKCQkJfQoJCQlpZiAoJHN0YWdlID09PSAwKSAvLyBkYXRhYmFzZSAmIHdlYnNpdGUgY29uZmlndXJhdGlvbgoJCQl7CgkJCQkkZWxlbWVudHNfbGFuZyA9ICRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2NvbmZpZ19lbGVtZW50cyddOwoJCQkJJHNlbGVjdF9kcml2ZXIgPSAnJzsKCQkJCWZvcmVhY2ggKFxjb3JlXERCRmFjdG9yeTo6RFJJVkVSUyBhcyAkZHJpdmVyKQoJCQkJewoJCQkJCSRzZWxlY3RfZHJpdmVyIC49ICc8b3B0aW9uIHZhbHVlPSInIC4gJGRyaXZlciAuICciPicgLiAkZHJpdmVyIC4gJzwvb3B0aW9uPic7CgkJCQl9CgkJCQkkcGFnZUVsZW1lbnQgPSBuZXcgXGNvbnRlbnRccGFnZWVsZW1lbnRcUGFnZUVsZW1lbnQoWwoJCQkJCSd0ZW1wbGF0ZScgPT4gJEdMT0JBTFNbJ2NvbmZpZyddWydtb2QnXVsncGhvc3Bob3JlX2luc3RhbGxhdGlvbiddWydwYXRoJ11bJ2NvbmZpZ190ZW1wbGF0ZSddLAoJCQkJCSdlbGVtZW50cycgPT4gWwoJCQkJCQknbGFuZycgICAgICAgICAgICAgICAgICA9PiAkR0xPQkFMU1snbGFuZyddWydjb3JlJ11bJ2xhbmcnXVsnYWJiciddLAoJCQkJCQkndGl0bGUnICAgICAgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1sndGl0bGUnXSwKCQkJCQkJJ2FjdGlvbicgICAgICAgICAgICAgICAgPT4gJycsCgkJCQkJCSdtZXRob2QnICAgICAgICAgICAgICAgID0+ICdQT1NUJywKCQkJCQkJJ2xlZ2VuZCcgICAgICAgICAgICAgICAgPT4gJGVsZW1lbnRzX2xhbmdbJ2xlZ2VuZCddLAoJCQkJCQknbGFiZWxfbGFuZycgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfbGFuZyddLAoJCQkJCQkndmFsdWVfbGFuZycgICAgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NvcmUnXVsnbGFuZyddWydzZXJ2ZXInXSwKCQkJCQkJJ2xhYmVsX2xvY2FsZScgICAgICAgICAgPT4gJGVsZW1lbnRzX2xhbmdbJ2xhYmVsX2xvY2FsZSddLAoJCQkJCQkndmFsdWVfbG9jYWxlJyAgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NvcmUnXVsnbG9jYWxlJ11bJ2RlZmF1bHQnXSwKCQkJCQkJJ2xhYmVsX3VzZXJuYW1lJyAgICAgICAgPT4gJGVsZW1lbnRzX2xhbmdbJ2xhYmVsX3VzZXJuYW1lJ10sCgkJCQkJCSd2YWx1ZV91c2VybmFtZScgICAgICAgID0+ICRHTE9CQUxTWydjb25maWcnXVsnY2xhc3MnXVsnY29yZSddWydEQkZhY3RvcnknXVsnZGF0YWJhc2UnXVsnZHJpdmVycyddWydNWVNRTCddWyd1c2VybmFtZSddLAoJCQkJCQknbGFiZWxfcGFzc3dvcmQnICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfcGFzc3dvcmQnXSwKCQkJCQkJJ3ZhbHVlX3Bhc3N3b3JkJyAgICAgICAgPT4gJEdMT0JBTFNbJ2NvbmZpZyddWydjbGFzcyddWydjb3JlJ11bJ0RCRmFjdG9yeSddWydkYXRhYmFzZSddWydkcml2ZXJzJ11bJ01ZU1FMJ11bJ3Bhc3N3b3JkJ10sCgkJCQkJCSdkYXRhYmFzZV9sZWdlbmQnICAgICAgID0+ICRlbGVtZW50c19sYW5nWydkYXRhYmFzZV9sZWdlbmQnXSwKCQkJCQkJJ2xhYmVsX2RyaXZlcicgICAgICAgICAgPT4gJGVsZW1lbnRzX2xhbmdbJ2xhYmVsX2RyaXZlciddLAoJCQkJCQknc2VsZWN0X2RyaXZlcicgICAgICAgICA9PiAkc2VsZWN0X2RyaXZlciwKCQkJCQkJJ2RyaXZlcl9vcHRpb25zX2xlZ2VuZCcgPT4gJGVsZW1lbnRzX2xhbmdbJ2RyaXZlcl9vcHRpb25zX2xlZ2VuZCddLAoJCQkJCQknbGFiZWxfaG9zdCcgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfaG9zdCddLAoJCQkJCQkndmFsdWVfaG9zdCcgICAgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ2NvcmUnXVsnREJGYWN0b3J5J11bJ2RhdGFiYXNlJ11bJ2RyaXZlcnMnXVsnTVlTUUwnXVsnZHNuX3BhcmFtZXRlcnMnXVsnaG9zdCddLAoJCQkJCQknbGFiZWxfcG9ydCcgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfcG9ydCddLAoJCQkJCQkndmFsdWVfcG9ydCcgICAgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ2NvcmUnXVsnREJGYWN0b3J5J11bJ2RhdGFiYXNlJ11bJ2RyaXZlcnMnXVsnTVlTUUwnXVsnZHNuX3BhcmFtZXRlcnMnXVsncG9ydCddLAoJCQkJCQknbGFiZWxfZGJuYW1lJyAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfZGJuYW1lJ10sCgkJCQkJCSd2YWx1ZV9kYm5hbWUnICAgICAgICAgID0+ICRHTE9CQUxTWydjb25maWcnXVsnY2xhc3MnXVsnY29yZSddWydEQkZhY3RvcnknXVsnZGF0YWJhc2UnXVsnZHJpdmVycyddWydNWVNRTCddWydkc25fcGFyYW1ldGVycyddWydkYm5hbWUnXSwKCQkJCQkJJ2xhYmVsX3VuaXhfc29ja2V0JyAgICAgPT4gJGVsZW1lbnRzX2xhbmdbJ2xhYmVsX3VuaXhfc29ja2V0J10sCgkJCQkJCSd2YWx1ZV91bml4X3NvY2tldCcgICAgID0+ICRHTE9CQUxTWydjb25maWcnXVsnY2xhc3MnXVsnY29yZSddWydEQkZhY3RvcnknXVsnZGF0YWJhc2UnXVsnZHJpdmVycyddWydNWVNRTCddWydkc25fcGFyYW1ldGVycyddWyd1bml4X3NvY2tldCddLAoJCQkJCQknbGFiZWxfY2hhcnNldCcgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfY2hhcnNldCddLAoJCQkJCQkndmFsdWVfY2hhcnNldCcgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ2NvcmUnXVsnREJGYWN0b3J5J11bJ2RhdGFiYXNlJ11bJ2RyaXZlcnMnXVsnTVlTUUwnXVsnZHNuX3BhcmFtZXRlcnMnXVsnY2hhcnNldCddLAoJCQkJCQknbGFiZWxfcm9sZScgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfcm9sZSddLAoJCQkJCQkndmFsdWVfcm9sZScgICAgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ2NvcmUnXVsnREJGYWN0b3J5J11bJ2RhdGFiYXNlJ11bJ2RyaXZlcnMnXVsnRklSRUJJUkQnXVsnZHNuX3BhcmFtZXRlcnMnXVsncm9sZSddLAoJCQkJCQknbGFiZWxfZGlhbGVjdCcgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfZGlhbGVjdCddLAoJCQkJCQkndmFsdWVfZGlhbGVjdCcgICAgICAgICA9PiAkR0xPQkFMU1snY29uZmlnJ11bJ2NsYXNzJ11bJ2NvcmUnXVsnREJGYWN0b3J5J11bJ2RhdGFiYXNlJ11bJ2RyaXZlcnMnXVsnRklSRUJJUkQnXVsnZHNuX3BhcmFtZXRlcnMnXVsnZGlhbGVjdCddLAoJCQkJCQknbGFiZWxfbWVtb3J5JyAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snbGFiZWxfbWVtb3J5J10sCgkJCQkJCSd2YWx1ZV9tZW1vcnknICAgICAgICAgID0+ICRHTE9CQUxTWydjb25maWcnXVsnY2xhc3MnXVsnY29yZSddWydEQkZhY3RvcnknXVsnZGF0YWJhc2UnXVsnZHJpdmVycyddWydTUUxJVEUnXVsnZHNuX3BhcmFtZXRlcnMnXVsnbWVtb3J5J10sCgkJCQkJCSdsYWJlbF9wYXRoJyAgICAgICAgICAgID0+ICRlbGVtZW50c19sYW5nWydsYWJlbF9wYXRoJ10sCgkJCQkJCSd2YWx1ZV9wYXRoJyAgICAgICAgICAgID0+ICRHTE9CQUxTWydjb25maWcnXVsnY2xhc3MnXVsnY29yZSddWydEQkZhY3RvcnknXVsnZGF0YWJhc2UnXVsnZHJpdmVycyddWydTUUxJVEUnXVsnZHNuX3BhcmFtZXRlcnMnXVsncGF0aCddLAoJCQkJCQknc3VibWl0JyAgICAgICAgICAgICAgICA9PiAkZWxlbWVudHNfbGFuZ1snc3VibWl0J10sCgkJCQkJXSwKCQkJCV0pOwoJCQkJZWNobyAkcGFnZUVsZW1lbnQtPmRpc3BsYXkoKTsKCgkJCQkkc3RhZ2VfZmlsZSA9IFxmb3Blbigkc3RhZ2VfZmlsZSwgJ3cnKTsKCQkJCWlmICghJHN0YWdlX2ZpbGUpCgkJCQl7CgkJCQkJdGhyb3cgbmV3IFxleGNlcHRpb25cUEhvc1Bob3JlSW5zdGFsbGF0aW9uRXhjZXB0aW9uKCRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9vcGVuX3N0YWdlJ10pOwoJCQkJfQoJCQkJXGZ3cml0ZSgkc3RhZ2VfZmlsZSwgJzEnKTsKCQkJCWlmICghXGZjbG9zZSgkc3RhZ2VfZmlsZSkpCgkJCQl7CgkJCQkJdGhyb3cgbmV3IFxleGNlcHRpb25cUEhvc1Bob3JlSW5zdGFsbGF0aW9uRXhjZXB0aW9uKCRHTE9CQUxTWydsYW5nJ11bJ21vZCddWydwaG9zcGhvcmVfaW5zdGFsbGF0aW9uJ11bJ2Vycm9yJ11bJ2Nhbm5vdF9jbG9zZV9zdGFnZSddKTsKCQkJCX0KCQkJCWV4aXQoKTsKCQkJfQoJCX0KCX0KfQpjYXRjaCAoXGV4Y2VwdGlvblxQSG9zUGhvcmVJbnN0YWxsYXRpb25FeGNlcHRpb24gJGVycm9yKQp7CgllY2hvICRlcnJvci0+Z2V0TWVzc2FnZSgpOwoKCWV4aXQoKTsKfQoKPz4KIjtzOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWVzcGFjZXMiO2E6MDp7fXM6NDM6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW5jbHVkZXMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAZnVuY3Rpb25zIjthOjA6e31zOjQ0OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNvbnN0YW50cyI7YTowOnt9czo0MjoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBjbGFzc2VzIjthOjA6e31zOjQ1OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGludGVyZmFjZXMiO2E6MDp7fXM6NDE6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAdHJhaXRzIjthOjA6e31zOjQwOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGVudW1zIjthOjA6e31zOjQzOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG1ldGFkYXRhIjthOjA6e319";